<section class="max-w-xl grid gap-4">
    <h2 class="text-2xl font-bold">{{ isEdit() ? 'Editar cliente' : 'Novo cliente' }}</h2>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="grid gap-3 bg-white p-4 rounded-xl border shadow-sm">
        <div>
        <label class="block text-sm text-gray-600 mb-1">Nome *</label>
        <input formControlName="nome" class="w-full p-2 border rounded" required>
        <p class="text-xs text-red-600" *ngIf="form.controls.nome.touched && form.controls.nome.invalid">
            Informe o nome.
        </p>
        </div>

        <div>
        <label class="block text-sm text-gray-600 mb-1">Email *</label>
        <input formControlName="email" type="email" class="w-full p-2 border rounded" required>
        <p class="text-xs text-red-600" *ngIf="form.controls.email.touched && form.controls.email.invalid">
            Email inválido.
        </p>
        </div>

        <div>
        <label class="block text-sm text-gray-600 mb-1">Celular *</label>
        <input
            #celInput
            formControlName="celular"
            class="w-full p-2 border rounded"
            placeholder="(11) 91234-5678"
            (input)="onCelularInput($event)"
        />
        <p class="text-xs text-red-600" *ngIf="form.controls.celular.touched && form.controls.celular.invalid">
            Celular inválido.
        </p>
        </div>

        <div>
        <label class="block text-sm text-gray-600 mb-1">Perfil *</label>
        <select formControlName="perfil" class="w-full p-2 border rounded" required>
            <option *ngFor="let p of perfis" [value]="p">{{ p }}</option>
        </select>
        </div>

        <div class="flex justify-end gap-2">
        <button type="button" (click)="router.navigate(['/clientes'])"
                class="px-3 py-2 rounded border hover:bg-gray-50">Cancelar</button>
        <button type="submit" [disabled]="form.invalid || saving()"
                class="px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50">
            {{ saving() ? 'Salvando...' : 'Salvar' }}
        </button>
        </div>
    </form>
</section>