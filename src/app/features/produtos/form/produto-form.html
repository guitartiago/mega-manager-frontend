<section class="max-w-xl grid gap-4">
  <h2 class="text-2xl font-bold">{{ isEdit() ? 'Editar produto' : 'Novo produto' }}</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="grid gap-3 bg-white p-4 rounded-xl border shadow-sm">
    <div>
      <label class="block text-sm text-gray-600 mb-1">Nome *</label>
      <input formControlName="nome" class="w-full p-2 border rounded" required>
      <p class="text-xs text-red-600" *ngIf="form.controls.nome.touched && form.controls.nome.invalid">Informe o nome.</p>
    </div>

    <div>
      <label class="block text-sm text-gray-600 mb-1">Preço de venda *</label>
      <input #precoInput formControlName="precoVenda" class="w-full p-2 border rounded"
             placeholder="0,00" (input)="onPrecoInput($event)" required>
      <p class="text-xs text-gray-500 mt-1">Use vírgula para centavos (ex.: 12,50).</p>
    </div>

    <div class="flex items-center gap-2">
      <input id="ativo" type="checkbox" formControlName="ativo" class="w-4 h-4 border rounded">
      <label for="ativo" class="text-sm text-gray-700 select-none">Ativo</label>
    </div>

    <div class="flex justify-end gap-2">
      <button type="button" (click)="router.navigate(['/produtos'])"
              class="px-3 py-2 rounded border hover:bg-gray-50">Cancelar</button>
      <button type="submit" [disabled]="form.invalid || saving()"
              class="px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50">
        {{ saving() ? 'Salvando...' : 'Salvar' }}
      </button>
    </div>
  </form>
</section>
